# 주문 프로젝트

## 요구사항

- 포인트와 쿠폰을 활용해 주문하는 프로젝트

### 사용자

- 사용자는 회원가입이 가능하다.
- 사용자는 로그인 후 주문이 가능하다.
- 인증 방법으로 jwt 토큰을 사용한다.

### 어드민

- 어드민으로 로그인 후 다음 세 가지 작업을 수행할 수 있다.
  - 카테고리를 저장한다.
  - 상품의 이름, 수량, 가격, 카테고리를 입력하여 상품을 등록할 수 있다.
  - 쿠폰의 이름, 수량, 카테고리를 입력해 쿠폰을 등록할 수 있다.

### 포인트

- 사용자는 포인트를 구매할 수 있다.
- 실제 결제와 관련된 로직은 구현하지 않는다. 포인트 구매 API를 호출할 때 결제는 진행된것으로 간주한다.
- 첫 회원가입을 하면 1_000 포인트를 지급한다.
- 포인트 사용 내역을 조회할 수 있어야 한다.
- 포인트를 지급시 만료기간을 설정할 수 있다.

### 쿠폰

- 쿠폰은 정액 쿠폰과 할인 쿠폰이 존재한다.
- 정액 쿠폰은 1_000원과 같이 실제 가격을 할인하고 할인 쿠폰은 가격의 10%와 같이 퍼센트 비율로 할인한다.
- 두 종류의 쿠폰을 모두 사용한다면 우선순위는 할인쿠폰 -> 정액 쿠폰으로 사용한다.
- 쿠폰은 동일한 카테고리에만 사용이 가능하다. 카테고리 정보가 없으면 전체 상품에 사용이 가능하며 카테고리 정보가 있다면 상품이 동일한 카테고리일 때 적용이 가능하다.

### 주문

- 사용자는 주문시 쿠폰과 포인트를 같이 사용할 수 있다.
- 환불시 쿠폰과 포인트는 반환되어야 한다.

## 할 것

- 개발한 기능이 정상 동작하는지 고려
- 포인트 히스토리 조회 기능
- 상품 환불시 쿠폰이나 포인트도 환불하는 기능
- 포인트 히스토리, 만료기간 고려
- 쿠폰 재고?
- 쿠폰에 대해 유저가 선착순으로 쿠폰을 가져갈 수 있도록, 동시성 반영해야 함
- 상품 주문시 재고에 대한 동시성 문제
